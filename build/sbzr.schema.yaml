__build_info:
  rime_version: 1.14.0
  timestamps:
    default: 1756624134
    key_bindings: 1757431740
    key_bindings.custom: 0
    punctuation: 1756624134
    punctuation.custom: 0
    sbfh: 1759829458
    sbfh.custom: 0
    sbxlm: 1759829458
    sbxlm.custom: 0
    sbzr.custom: 1757431639
    sbzr.schema: 1759829458
bihua:
  dictionary: bihua
  enable_completion: true
  enable_encoder: false
  enable_sentence: false
  enable_user_dict: false
  encode_commit_history: false
  strict_spelling: true
  tag: bihua
  tips: "〔笔画反查〕"
emoji:
  dictionary: sbpy
  enable_encoder: false
  enable_user_dict: false
  packs:
    - sbpy.base
  prefix: e
  prism: sbyp
  tag: emoji
engine:
  filters:
    - "simplifier@es_conversion"
    - "lua_filter@*sbxlm.hint"
    - "reverse_lookup_filter@reverse_lookup"
    - "lua_filter@*sbxlm.select_key_to_comment"
    - simplifier
    - uniquifier
  processors:
    - "lua_processor@*sbxlm.ascii_composer"
    - ascii_composer
    - recognizer
    - "lua_processor@*sbxlm.key_binder"
    - key_binder
    - "lua_processor@*sbxlm.selector"
    - "lua_processor@*sbxlm.popping"
    - speller
    - punctuator
    - selector
    - navigator
    - express_editor
  segmentors:
    - ascii_segmentor
    - matcher
    - abc_segmentor
    - "affix_segmentor@sbzdy"
    - "affix_segmentor@bihua"
    - "affix_segmentor@sbyp"
    - "affix_segmentor@emoji"
    - "affix_segmentor@zhlf"
    - punct_segmentor
    - fallback_segmentor
  translators:
    - punct_translator
    - "lua_translator@*sbxlm.auto_length"
    - "table_translator@bihua"
    - "script_translator@sbyp"
    - "script_translator@emoji"
    - "script_translator@zhlf"
    - "lua_translator@*sbxlm.utils.datetime"
    - "lua_translator@*sbxlm.utils.number"
    - "lua_translator@*sbxlm.utils.calculator"
    - "table_translator@sbzdy"
    - history_translator
es_conversion:
  opencc_config: es.json
  option_name: show_es
  tags:
    - emoji
extended:
  dictionary: sbzr.extended
  enable_user_dict: true
  user_dictionary: sbzr
history:
  initial_quality: "-1"
  input: "/"
  size: 5
  tag: history
key_binder:
  bindings:
    - {accept: "Control+p", send: Up, when: composing}
    - {accept: "Control+n", send: Down, when: composing}
    - {accept: "Control+b", send: Left, when: composing}
    - {accept: "Control+f", send: Right, when: composing}
    - {accept: "Control+a", send: Home, when: composing}
    - {accept: "Control+e", send: End, when: composing}
    - {accept: "Control+d", send: Delete, when: composing}
    - {accept: "Control+k", send: "Shift+Delete", when: composing}
    - {accept: "Control+h", send: BackSpace, when: composing}
    - {accept: "Control+g", send: Escape, when: composing}
    - {accept: "Control+bracketleft", send: Escape, when: composing}
    - {accept: "Control+y", send: Page_Up, when: composing}
    - {accept: "Alt+v", send: Page_Up, when: composing}
    - {accept: "Control+v", send: Page_Down, when: composing}
    - {accept: "Control+c", send: Page_Up, when: composing}
    - {accept: "Control+Shift+1", select: .next, when: always}
    - {accept: "Control+Shift+2", toggle: ascii_mode, when: always}
    - {accept: "Control+Shift+3", toggle: full_shape, when: always}
    - {accept: "Control+Shift+4", toggle: simplification, when: always}
    - {accept: "Control+Shift+5", toggle: extended_charset, when: always}
    - {accept: "Control+Shift+exclam", select: .next, when: always}
    - {accept: "Control+Shift+at", toggle: ascii_mode, when: always}
    - {accept: "Control+Shift+numbersign", toggle: full_shape, when: always}
    - {accept: "Control+Shift+dollar", toggle: simplification, when: always}
    - {accept: "Control+Shift+percent", toggle: extended_charset, when: always}
    - {accept: Tab, send: Page_Down, when: has_menu}
    - {accept: "Shift+Tab", send: Page_Up, when: paging}
    - {accept: "Shift+Tab", send_sequence: "{Page_Down}{Page_Down}{Page_Down}{Page_Down}{Page_Down}{Page_Down}{Page_Down}{Page_Down}{Page_Down}{Page_Down}{Page_Down}{Page_Down}{Page_Down}{Page_Down}{Page_Down}{Page_Down}{Page_Down}{Page_Down}{Page_Down}{Page_Down}{Page_Down}{Page_Down}{Page_Down}{Page_Down}{Page_Down}{Page_Down}{Page_Down}{Page_Down}{Page_Down}{Page_Down}{Page_Down}", when: has_menu}
    - {accept: "Control+l", send_sequence: "{Home}{Right}{Right}", when: composing}
    - {accept: "Shift+ISO_Left_Tab", send: Page_Up, when: paging}
    - {accept: "Shift+ISO_Left_Tab", send_sequence: "{Page_Down}{Page_Down}{Page_Down}{Page_Down}{Page_Down}{Page_Down}{Page_Down}{Page_Down}{Page_Down}{Page_Down}{Page_Down}{Page_Down}{Page_Down}{Page_Down}{Page_Down}{Page_Down}{Page_Down}{Page_Down}{Page_Down}{Page_Down}{Page_Down}{Page_Down}{Page_Down}{Page_Down}{Page_Down}{Page_Down}{Page_Down}{Page_Down}{Page_Down}{Page_Down}{Page_Down}", when: has_menu}
    - {accept: "Shift+BackSpace", send: Escape, when: composing}
    - {accept: ";", match: "[bpmfdtnlgkhjqxzcsrywv]{2}", send_sequence: "{Home}{Right}{space}{space}"}
    - {accept: ";", match: "[bpmfdtnlgkhjqxzcsrywv][bpmfdtnlgkhjqxzcsrywv][a-z0-9]", send_sequence: "{Home}{Right}{space}{space}"}
    - {accept: ";", match: "[bpmfdtnlgkhjqxzcsrywv][bpmfdtnlgkhjqxzcsrywv][aeuio]{2}", send_sequence: "{Home}{Right}{space}{space}"}
    - {accept: "Shift+space", match: "[bpmfdtnlgkhjqxzcsrywv]{3}", send_sequence: "{Home}{Right}{space}{Home}{Right}{space}{space}"}
    - {accept: "Shift+space", match: "[bpmfdtnlgkhjqxzcsrywv][a-z0-9][bpmfdtnlgkhjqxzcsrywv]{2}", send_sequence: "{Home}{Right}{Right}{space}{Home}{Right}{space}{space}"}
    - {accept: ";", match: "([bpmfdtnlgkhjqxzcsrywv][a-z0-9]){2}[aeuio]{0,2}", send_sequence: "{Home}{Right}{Right}{space}{space}"}
    - {accept: Tab, match: "[bpmfdtnlgkhjqxzcsrywv][a-z]", send_sequence: "{apostrophe}{space}"}
    - {accept: "'", match: "[bpmfdtnlgkhjqxzcsrywv][a-z]", send_sequence: "{apostrophe}{space}"}
    # 下方为全局下一个候选操作的快捷键绑定，通过指定"accept"字段为组合键（如Control+z、Control+j等），
    # 并使用"select: .next"实现无条件切换到下一个候选词（"when: always"表示总是生效）。
    # 例如，"Control+z"，即按下Ctrl+z的组合键时，会切换到下一个候选词，无论当前处于什么状态。
    
    - {accept: "Control+j", select: .next, when: always}         # Ctrl+j 切换到下一个候选
    - {accept: "Control+k", select: .next, when: always}         # Ctrl+k 切换到下一个候选
    - {accept: "Control+comma", select: .next, when: always}     # Ctrl+, 切换到下一个候选
    - {accept: "Control+period", select: .next, when: always}    # Ctrl+. 切换到下一个候选

    - {accept: comma, send: Page_Up, when: has_menu}      # 用,翻页
    - {accept: period, send: Page_Down, when: has_menu}    # 用.翻页

  import_preset: sbxlm
menu:
  alternative_select_keys: _aeuio
  alternative_select_labels:
    - ""
    - ""
    - ""
    - ""
    - ""
    - ""
  alternative_select_patterns:
    - "[bpmfdtnlgkhjqxzcsrywv][a-z][aeuio]{4}"
    - "[bpmfdtnlgkhjqxzcsrywv][a-z][bpmfdtnlgkhjqxzcsrywvBPMFDTNLGKHJQXZCSRYWV][a-z][aeuio]{2}"
  page_size: 6
  select_comment_pattern: "^[a-z]{4,}|[bpmfdtnlgkhjqxzcsrywv][a-z][bpmfdtnlgkhjqxzcsrywvBPMFDTNLGKHJQXZCSRYWV][a-z][aeuio]{0,2}$"
punctuator:
  digit_separator_action: commit
  full_shape: # 全角
    "!": {commit: "！"}
    "\"": {pair: ["“", "”"]}
    "$": ["$", "￥", "€", "£", "¥", "¢", "¤", "₩"]
    "%": ["%", "％", "°", "℃", "‰", "‱", "℉"]
    "&": ["&", "＆"]
    "'": {pair: ["‘", "’"]}
    "(": ["（", "("]
    ")": ["）", ")"]
    "*": ["*", "＊", "·", "×", "※", "❂", "⁂", "☮", "☯", "☣", "・"]
    "+": ["+", "＋"]
    ",": {commit: "，"}
    "-": ["－"]
    .: {commit: "。"}
    "/": ["、", "/", "\\"]
    ":": {commit: "："}
    ";": ["；", "……", "——", "（", "！", "）"]
    "<": ["《", "〈", "«", "‹", "↑", "←"]
    "=": ["="]
    ">": ["》", "〉", "»", "›", "↓", "→"]
    "?": {commit: "？"}
    "[": ["「", "【", "〔", "[", "［"]
    "\\": ["\\"]
    "]": ["」", "】", "〕", "]", "］"]
    "^": ["……", "…", "≠", "≡", "〃", "々", "＝"]
    _: [_, __, ___, ____, _____]
    "`": ["`", "′", "″", "‴", "‵", "‶", "‷", "⁗"]
    "{": ["『", "〖", "{", "｛"]
    "|": ["｜", "§", "¦", "‖", "||"]
    "}": ["』", "〗", "}", "｝"]

  half_shape: # 半角
    "!": {commit: "！"}
    "\"": {pair: ["“", "”"]}
    "$": ["$", "￥", "€", "£", "¥", "¢", "¤", "₩"]
    "%": ["%", "％", "°", "℃", "‰", "‱", "℉"]
    "&": ["&", "＆"]
    "'": {pair: ["‘", "’"]}
    "(": ["（", "("]
    ")": ["）", ")"]
    "*": ["*", "＊", "·", "×", "※", "❂", "⁂", "☮", "☯", "☣", "・"]
    "+": ["+", "＋"]
    ",": {commit: "，"}
    "-": ["－"]
    .: {commit: "。"}
    "/": ["、", "/", "\\"]
    ":": {commit: "："}
    ";": ["；", "……", "——", "（", "！", "）"]
    "<": ["《", "〈", "«", "‹", "↑", "←"]
    "=": ["="]
    ">": ["》", "〉", "»", "›", "↓", "→"]
    "?": {commit: "？"}
    "[": ["「", "【", "〔", "[", "［"]
    "\\": ["\\"]
    "]": ["」", "】", "〕", "]", "］"]
    "^": ["……", "…", "≠", "≡", "〃", "々", "＝"]
    _: [_, __, ___, ____, _____]
    "`": ["`", "′", "″", "‴", "‵", "‶", "‷", "⁗"]
    "{": ["『", "〖", "{", "｛"]
    "|": ["｜", "§", "¦", "‖", "||"]
    "}": ["』", "〗", "}", "｝"]
 
  import_preset: sbxlm
  
recognizer:
  import_preset: sbxlm
  patterns:
    bihua: "^[aeiou]+$"
    emoji: "^e[bpmfdtnlgkhjqxzcsrywv][a-z']*$"
    history: "^/$"
    jsq: "^=.+$"
    lua: "^o[bpmfdtnlgkhjqxzcsrywv0-9]+$"
    punct: "^\\\\([0-9]|10|[A-Za-z][A-Zbpmfdtnlgkhjqxzcsrywv]*)$"
    sbfc: "^[bpmfdtnlgkhjqxzcsrywv][aeiou]{3}$"
    sbyp: "^a[bpmfdtnlgkhjqxzcsrywv][a-z']*$"
    sbzdy: "^u[bpmfdtnlgkhjqxzcsrywv][a-z]*$"
    zhlf: "^i[bpmfdtnlgkhjqxzcsrywv][a-z]*$"
reverse_lookup:
  dictionary: sbzr.extended
  overwrite_comment: true
  tags:
    - bihua
    - sbyp
    - zhlf
sbfc:
  dictionary: sbfc
  enable_completion: true
  enable_encoder: false
  enable_sentence: false
  enable_user_dict: false
  encode_commit_history: false
  strict_spelling: true
  tag: sbfc
  tips: "〔声笔反查〕"
sbyp:
  dictionary: sbpy
  enable_encoder: false
  enable_user_dict: false
  packs:
    - sbpy.base
  prefix: a
  prism: sbyp
  tag: sbyp
  tips: "〔拼音反查〕"
sbzdy:
  db_class: stabledb
  dictionary: ""
  enable_completion: true
  enable_sentence: false
  prefix: u
  tag: sbzdy
  tips: "〔自定义〕"
  user_dict: sbzdy
schema:
  author:
    - "戴石麟 <https://sbxlm.github.io>"
    - "蓝落萧 <https://tansongchen.com>"
  dependencies:
    - sbyp
    - bihua
    - zhlf
    - sbzr2
  icon: sbxlm.ico
  name: "声笔自然"
  schema_id: sbzr
  version: 11.0
simplifier:
  opencc_config: s2t.json
  option_name: zh_trad
speller:
  algebra:
    - "derive/'//"
  alphabet: "bpmfdtnlgkhjqxzcsrywvaeiou;'BPMFDTNLGKHJQXZCSRYWV"
  auto_clear: none
  initials: bpmfdtnlgkhjqxzcsrywv
  max_code_length: 6
  popping:
    - {accept: "[bpmfdtnlgkhjqxzcsrywv]", match: "[bpmfdtnlgkhjqxzcsrywv][a-z][aeiou]+"}
    - {accept: "[bpmfdtnlgkhjqxzcsrywv]", match: "[bpmfdtnlgkhjqxzcsrywv][a-z]", when: pro_char}
    - {accept: "[BPMFDTNLGKHJQXZCSRYWV]", match: "[bpmfdtnlgkhjqxzcsrywv][a-z]", strategy: append, when: pro_char}
    - {accept: "[^ ]", match: "[bpmfdtnlgkhjqxzcsrywv].+[;'0-9]"}
    - {accept: "[aeuio]", match: "[bpmfdtnlgkhjqxzcsrywv][a-z]?[;'0-9][aeuio]*", strategy: append}
    - {accept: "[^ aeuio]", match: "[bpmfdtnlgkhjqxzcsrywv][a-z]?[;'0-9][aeuio]*"}
    - {accept: "[0-9]", match: "[bpmfdtnlgkhjqxzcsrywv][a-z]?", strategy: append, when: is_enhanced}
    - {accept: "[0-9]", match: ".*"}
    - {accept: "[BPMFDTNLGKHJQXZCSRYWV]", match: "([bpmfdtnlgkhjqxzcsrywv][a-z]){2}", prefix: 2}
    - {accept: "[AEUIO]", match: "([bpmfdtnlgkhjqxzcsrywv][a-z]){2}[aeiou]{0,2}[AEUIO]?", strategy: append}
    - {accept: "[bpmfdtnlgkhjqxzcsrywv]", match: ".*[^a-z0-9]"}
    - {accept: "[^a-z0-9;' ]", match: ".*[a-z0-9;']"}
    - {accept: "[;',./]", match: "^[;]"}
    - {accept: "[;',./]", match: "^[bpmfdtnlgkhjqxzcsrywv][;',./]"}
    - {accept: "[bpmfdtnlgkhjqxzcsrywv]", match: "[bpmfdtnlgkhjqxzcsrywv][a-z][bpmfdtnlgkhjqxzcsrywvBPMFDTNLGKHJQXZCSRYWV][a-z][aeiou]*"}
    - {accept: "[BPMFDTNLGKHJQXZCSRYWV]", match: "[bpmfdtnlgkhjqxzcsrywv][a-z]", strategy: append, when: pro_char}
    - {accept: "[a-z]", match: "[bpmfdtnlgkhjqxzcsrywv][a-z][BPMFDTNLGKHJQXZCSRYWV]", strategy: append, when: pro_char}
switches:
  - name: ascii_mode
    reset: 0
    states: ["中文", "西文"]
  - name: ascii_punct
    reset: 0
    states: ["。，", "．，"]
  - name: zh_trad
    reset: 0
    states: ["简体", "繁体"]
  - name: pro_char
    reset: 0
    states: ["词组", "单字"]
  - name: auto_inline
    reset: 1
  - name: is_buffered
    reset: 0
  - name: single_display
    reset: 0
  - name: show_es
    reset: 1
  - name: third_pop
    reset: 0
  - name: fast_pop
    reset: 0
translator:
  delete_threshold: 2000
  dictionary: sbzr
  disable_user_dict_for_patterns:
    - "[bpmfdtnlgkhjqxzcsrywv][a-z]?[aeuio;']?"
    - "[bpmfdtnlgkhjqxzcsrywv][a-z][bpmfdtnlgkhjqxzcsrywv]"
  enable_encoder: true
  enable_user_dict: true
  forced_selection: true
  max_phrase_length: 5
  single_selection: false
  stop_change: false
zhlf:
  dictionary: zhlf
  enable_user_dict: false
  prefix: i
  tag: zhlf
  tips: "〔两分反查〕"