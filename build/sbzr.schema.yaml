__build_info:
  rime_version: 1.8.5
  timestamps:
    default: 1649520780
    default.custom: 1731743065
    key_bindings: 1649520780
    key_bindings.custom: 0
    punctuation: 1649520780
    punctuation.custom: 0
    sbfh: 1731743065
    sbfh.custom: 0
    sbxlm: 1731743065
    sbxlm.custom: 0
    sbzr.custom: 0
    sbzr.schema: 1731743065
bihua:
  dictionary: bihua
  enable_completion: true
  enable_encoder: false
  enable_sentence: false
  enable_user_dict: false
  encode_commit_history: false
  strict_spelling: true
  tag: bihua
  tips: "〔笔画反查〕"
engine:
  filters:
    - "lua_filter@*sbxlm.hint"
    - "reverse_lookup_filter@reverse_lookup"
    - "lua_filter@*sbxlm.select_key_to_comment"
    - simplifier
    - uniquifier
  processors:
    - "lua_processor@*sbxlm.ascii_composer"
    - ascii_composer
    - recognizer
    - "lua_processor@*sbxlm.key_binder"
    - key_binder
    - "lua_processor@*sbxlm.selector"
    - "lua_processor@*sbxlm.popping"
    - speller
    - punctuator
    - selector
    - navigator
    - express_editor
  segmentors:
    - ascii_segmentor
    - matcher
    - abc_segmentor
    - "affix_segmentor@sbzdy"
    - "affix_segmentor@bihua"
    - "affix_segmentor@hypy"
    - "affix_segmentor@zhlf"
    - punct_segmentor
    - fallback_segmentor
  translators:
    - punct_translator
    - "lua_translator@*sbxlm.auto_length"
    - "table_translator@bihua"
    - "script_translator@hypy"
    - "script_translator@zhlf"
    - "lua_translator@*sbxlm.utils.datetime"
    - "lua_translator@*sbxlm.utils.number"
    - "lua_translator@*sbxlm.utils.calculator"
    - "table_translator@sbzdy"
    - history_translator
extended:
  dictionary: sbzr.extended
history:
  initial_quality: "-1"
  input: ";"
  size: 5
  tag: history
hypy:
  dictionary: sbpy
  packs:
    - sbpy.base
  prefix: a
  prism: hypy
  tag: hypy
  tips: "〔拼音反查〕"
key_binder:
  bindings:
    - {accept: "Control+z", select: .next, when: always}
    - {accept: "Control+j", select: .next, when: always}
    - {accept: "Control+k", select: .next, when: always}
    - {accept: "Shift+BackSpace", send: Escape, when: composing}
    
    - {accept: Return, send: "Shift+Return", when: has_menu}
    - {accept: "Control+p", send: Up, when: composing}
    - {accept: "Control+n", send: Down, when: composing}
    - {accept: "Control+b", send: Left, when: composing}
    - {accept: "Control+f", send: Right, when: composing}
    - {accept: "Control+a", send: Home, when: composing}
    - {accept: "Control+e", send: End, when: composing}
    - {accept: "Control+d", send: Delete, when: composing}
    - {accept: "Control+k", send: "Shift+Delete", when: composing}
    - {accept: "Control+h", send: BackSpace, when: composing}
    - {accept: "Control+g", send: Escape, when: composing}
    - {accept: "Control+bracketleft", send: Escape, when: composing}
    - {accept: "Control+y", send: Page_Up, when: composing}
    - {accept: "Alt+v", send: Page_Up, when: composing}
    - {accept: "Control+v", send: Page_Down, when: composing}
    
    - {accept: "Control+n", send: Left, when: composing}        # 上一个选项
    - {accept: "Control+m", send: Right, when: composing}       # 下一个选项
    - {accept: "Tab", send: Right, when: composing}             # 上一个选项
    - {accept: "Shift+Tab", send: Left, when: composing}        # 下一个选项

    # F6 切换“词组/单字”模式
    - {accept: F6, toggle: pro_char, when: composing}
    # Shift+ISO_Left_Tab 在分页时向上翻页
    - {accept: "Shift+ISO_Left_Tab", send: Page_Up, when: paging}
    # Shift+ISO_Left_Tab 在菜单时连续向下翻页（30页）
    - {accept: "Shift+ISO_Left_Tab", send_sequence: "{Page_Down}{Page_Down}{Page_Down}{Page_Down}{Page_Down}{Page_Down}{Page_Down}{Page_Down}{Page_Down}{Page_Down}{Page_Down}{Page_Down}{Page_Down}{Page_Down}{Page_Down}{Page_Down}{Page_Down}{Page_Down}{Page_Down}{Page_Down}{Page_Down}{Page_Down}{Page_Down}{Page_Down}{Page_Down}{Page_Down}{Page_Down}{Page_Down}{Page_Down}{Page_Down}{Page_Down}", when: has_menu}
    
    # 以下为声笔输入法特殊分词与标记快捷键
    # 两个声母时，分词并插入两个空格
    - {accept: ";", match: "[bpmfdtnlgkhjqxzcsrywv]{2}", send_sequence: "{Home}{Right}{space}{space}"}
    # 两个声母+一个字母或数字，分词并插入两个空格
    - {accept: ";", match: "[bpmfdtnlgkhjqxzcsrywv][bpmfdtnlgkhjqxzcsrywv][a-z0-9]", send_sequence: "{Home}{Right}{space}{space}"}
    # 两个声母+两个元音，分词并插入两个空格
    - {accept: ";", match: "[bpmfdtnlgkhjqxzcsrywv][bpmfdtnlgkhjqxzcsrywv][aeuio]{2}", send_sequence: "{Home}{Right}{space}{space}"}
    # 三个声母时，分词并插入三个空格
    - {accept: "Shift+space", match: "[bpmfdtnlgkhjqxzcsrywv]{3}", send_sequence: "{Home}{Right}{space}{Home}{Right}{space}{space}"}
    # 声母+字母/数字+两个声母，分词并插入三个空格
    - {accept: "Shift+space", match: "[bpmfdtnlgkhjqxzcsrywv][a-z0-9][bpmfdtnlgkhjqxzcsrywv]{2}", send_sequence: "{Home}{Right}{Right}{space}{Home}{Right}{space}{space}"}
    # 两组声母+字母/数字+可选元音，分词并插入两个空格
    - {accept: ";", match: "([bpmfdtnlgkhjqxzcsrywv][a-z0-9]){2}[aeuio]{0,2}", send_sequence: "{Home}{Right}{Right}{space}{space}"}
    # 声母+字母时，Shift+space 触发 F6（切换词组/单字）
    - {accept: "Shift+space", match: "[bpmfdtnlgkhjqxzcsrywv][a-z]", send_sequence: "{F6}"}
    # 声母+字母时，Tab 或 ' 插入撇号和空格
    - {accept: Tab, match: "[bpmfdtnlgkhjqxzcsrywv][a-z]", send_sequence: "{apostrophe}{space}"}
    - {accept: "'", match: "[bpmfdtnlgkhjqxzcsrywv][a-z]", send_sequence: "{apostrophe}{space}"}
    # 三个声母时，Tab 插入两个空格和撇号
    - {accept: Tab, match: "[bpmfdtnlgkhjqxzcsrywv]{3}", send_sequence: "{Home}{Right}{Right}{apostrophe}{space}{space}"}
    # 两个声母+字母时，' 插入空格和撇号
    - {accept: "'", match: "[bpmfdtnlgkhjqxzcsrywv]{2}[a-z]", send_sequence: "{Home}{Right}{space}{apostrophe}{space}"}
    # 声母+字母/数字+声母+字母时，' 插入两个空格和撇号
    - {accept: "'", match: "[bpmfdtnlgkhjqxzcsrywv][a-z0-9][bpmfdtnlgkhjqxzcsrywv][a-z]", send_sequence: "{Home}{Right}{Right}{space}{apostrophe}{space}"}
  import_preset: sbxlm
menu:
  alternative_select_keys: _aeuio
  alternative_select_labels:
    - ""
    - ""
    - ""
    - ""
    - ""
    - ""
  alternative_select_patterns:
    - "[bpmfdtnlgkhjqxzcsrywv][a-z][aeuio]{4}"
    - "[bpmfdtnlgkhjqxzcsrywv][a-z][bpmfdtnlgkhjqxzcsrywvBPMFDTNLGKHJQXZCSRYWV][a-z][aeuio]{2}"
  page_size: 6
  select_comment_pattern: "^[a-z]{4,}|[bpmfdtnlgkhjqxzcsrywv][a-z][bpmfdtnlgkhjqxzcsrywvBPMFDTNLGKHJQXZCSRYWV][a-z][aeuio]{0,2}$"

# 标点符号相关
punctuator: 
  # 全角标点符号
  full_shape:
    "!": {commit: "！"}
    "\"": {pair: ["“", "”"]}
    # "#": ["#", "№", "＃", "⌘"]
    # "$": ["$", "￥", "€", "£", "¥", "¢", "¤", "₩"]
    # "%": ["%", "％", "°", "℃", "‰", "‱", "℉"]
    # "&": ["&", "＆"]
    "'": {pair: ["‘", "’"]}
    "(": ["（", "("]
    ")": ["）", ")"]
    # "*": ["*", "＊", "·", "×", "※", "❂", "⁂", "☮", "☯", "☣", "・"]
    "+": ["+", "＋"]
    ",": {commit: "，"}
    "-": ["——", "－", "---", "--", "- "]
    .: {commit: "。"}
    # "/": ["、", "//", "÷", "/*", "*/", "／"]
    ":": {commit: "："}
    ";": ["；"]
    "<": ["《", "〈", "«", "‹", "↑", "←"]
    "=": ["="]
    ">": ["》", "〉", "»", "›", "↓", "→"]
    "?": {commit: "？"}
    "@": [commit: "@"]
    "[": ["「", "【", "〔", "[", "［"]
    "\\": ["\\"]
    "]": ["」", "】", "〕", "]", "］"]
    "^": ["……", "…", "≠", "≡", "〃", "＝"]
    # "`": [commit: "`"]
    "{": ["『", "〖", "{", "｛"]
    "|": ["｜", "§", "¦", "‖", "||"]
    "}": ["』", "〗", "}", "｝"]
    "~": ["~", "～", "˜", "≈", "≋", "≃", "≅", "≇", "∽", "⋍", "≌", "﹏", "﹋", "﹌"]

  # 半角标点符号
  half_shape:
    "!": {commit: "！"}
    "\"": {pair: ["“", "”"]}
    # "#": ["#", "№", "＃", "⌘"]
    # "$": ["$", "￥", "€", "£", "¥", "¢", "¤", "₩"]
    # "%": ["%", "％", "°", "℃", "‰", "‱", "℉"]
    # "&": ["&", "＆"]
    "'": {pair: ["‘", "’"]}
    "(": ["（", "("]
    ")": ["）", ")"]
    # "*": ["*", "＊", "·", "×", "※", "❂", "⁂", "☮", "☯", "☣", "・"]
    "+": ["+", "＋"]
    ",": {commit: "，"}
    "-": ["——", "－", "---", "--", "- "]
    .: {commit: "。"}
    # "/": ["、", "//", "÷", "/*", "*/", "／"]
    ":": {commit: "："}
    ";": ["；"]
    "<": ["《", "〈", "«", "‹", "↑", "←"]
    "=": ["="]
    ">": ["》", "〉", "»", "›", "↓", "→"]
    "?": {commit: "？"}
    "@": [commit: "@"]
    "[": ["「", "【", "〔", "[", "［"]
    "\\": ["\\"]
    "]": ["」", "】", "〕", "]", "］"]
    "^": ["……", "…", "≠", "≡", "〃", "＝"]
    # "`": [commit: "`"]
    "{": ["『", "〖", "{", "｛"]
    "|": ["｜", "§", "¦", "‖", "||"]
    "}": ["』", "〗", "}", "｝"]
    "~": ["~", "～", "˜", "≈", "≋", "≃", "≅", "≇", "∽", "⋍", "≌", "﹏", "﹋", "﹌"]
  import_preset: sbxlm

recognizer:
  import_preset: sbxlm
  patterns:
    bihua: "^[aeiou]+$"
    history: "^;$"
    hypy: "^a[bpmfdtnlgkhjqxzcsrywv][a-z]*'?$"
    jsq: "^=.+$"
    lua: "^o[bpmfdtnlgkhjqxzcsrywv0-9]+$"
    punct: "^\\\\([0-9]|10|[A-Za-z][A-Zbpmfdtnlgkhjqxzcsrywv]*)$"
    sbjm: "^[bpmfdtnlgkhjqxzcsrywv][aeiou]{3}$"
    sbzdy: "^u[bpmfdtnlgkhjqxzcsrywv][a-z]*$"
    zhlf: "^i[bpmfdtnlgkhjqxzcsrywv][a-z]*'?$"
reverse_lookup:
  dictionary: sbzr.extended
  overwrite_comment: true
  tags:
    - bihua
    - hypy
    - zhlf
sbjm:
  dictionary: sbjm.extended
  enable_completion: true
  enable_encoder: false
  enable_sentence: false
  enable_user_dict: false
  encode_commit_history: false
  strict_spelling: true
  tag: sbjm
  tips: "〔声笔反查〕"
sbzdy:
  db_class: stabledb
  dictionary: ""
  enable_completion: true
  enable_sentence: false
  prefix: u
  tag: sbzdy
  tips: "〔自定义〕"
  user_dict: sbzdy
schema:
  author:
    - "戴石麟 <https://sbxlm.github.io>"
    - "蓝落萧 <https://tansongchen.com>"
  dependencies:
    - hypy
    - bihua
    - zhlf
    - sbzr2
  icon: sbxlm.ico
  name: "声笔自然"
  schema_id: sbzr
  version: 10.0
simplifier:
  opencc_config: s2t.json
  option_name: zh_trad
speller:
  algebra:
    - "derive/'//"
  alphabet: "bpmfdtnlgkhjqxzcsrywvaeiou;'BPMFDTNLGKHJQXZCSRYWV"
  auto_clear: none
  initials: bpmfdtnlgkhjqxzcsrywv
  max_code_length: 6
  popping:
    - {accept: "[bpmfdtnlgkhjqxzcsrywv]", match: "[bpmfdtnlgkhjqxzcsrywv][a-z][aeiou]+"}
    - {accept: "[bpmfdtnlgkhjqxzcsrywv]", match: "[bpmfdtnlgkhjqxzcsrywv][a-z]", when: pro_char}
    - {accept: "[BPMFDTNLGKHJQXZCSRYWV]", match: "[bpmfdtnlgkhjqxzcsrywv][a-z]", strategy: append, when: pro_char}
    - {accept: "[^ ]", match: "[bpmfdtnlgkhjqxzcsrywv].+[;'0-9]"}
    - {accept: "[aeuio]", match: "[bpmfdtnlgkhjqxzcsrywv][a-z]?[;'0-9][aeuio]*", strategy: append}
    - {accept: "[^ aeuio]", match: "[bpmfdtnlgkhjqxzcsrywv][a-z]?[;'0-9][aeuio]*"}
    - {accept: "[0-9]", match: "[bpmfdtnlgkhjqxzcsrywv][a-z]?", strategy: append, when: is_enhanced}
    - {accept: "[0-9]", match: ".*"}
    - {accept: "[aeiou]", match: "([bpmfdtnlgkhjqxzcsrywv][a-z]){2}", prefix: 2, strategy: conditional}
    - {accept: "[A-Z]", match: "([bpmfdtnlgkhjqxzcsrywv][a-z]){2}", prefix: 2}
    - {accept: "[bpmfdtnlgkhjqxzcsrywv]", match: ".*[^a-z0-9]"}
    - {accept: "[^a-z0-9;' ]", match: ".*[a-z0-9;']"}
    - {accept: "[bpmfdtnlgkhjqxzcsrywv]", match: "[bpmfdtnlgkhjqxzcsrywv][a-z][bpmfdtnlgkhjqxzcsrywvBPMFDTNLGKHJQXZCSRYWV][a-z][aeiou]*"}
    - {accept: "[BPMFDTNLGKHJQXZCSRYWV]", match: "[bpmfdtnlgkhjqxzcsrywv][a-z]", strategy: append, when: pro_char}
    - {accept: "[a-z]", match: "[bpmfdtnlgkhjqxzcsrywv][a-z][BPMFDTNLGKHJQXZCSRYWV]", strategy: append, when: pro_char}
switches:
  - name: ascii_mode
    reset: 0
    states: ["中文", "西文"]
  - name: ascii_punct
    reset: 0
    states: ["。，", "．，"]
  - name: zh_trad
    reset: 0
    states: ["简体", "繁体"]
  - name: pro_char
    reset: 0
    states: ["词组", "单字"]
  - name: fast_change
    reset: 0
    states: ["慢调", "快调"]
  - name: auto_inline
    reset: 1
  - name: is_buffered
    reset: 0
  - name: single_display
    reset: 0
  - name: third_pop
    reset: 0
  - name: fast_pop
    reset: 0
translator:
  delete_threshold: 2000
  dictionary: sbzr
  disable_user_dict_for_patterns:
    - "[bpmfdtnlgkhjqxzcsrywv][a-z]?[aeuio;']?"
    - "[bpmfdtnlgkhjqxzcsrywv][a-z][bpmfdtnlgkhjqxzcsrywv]"
  enable_encoder: true
  forced_selection: true
  max_phrase_length: 5
  single_selection: false
  stop_change: false
zhlf:
  dictionary: zhlf
  enable_user_dict: false
  prefix: i
  tag: zhlf
  tips: "〔两分反查〕"